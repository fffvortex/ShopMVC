@model ItemDisplayModel
@{
    ViewData["Title"] = "Items ";
}

<link rel="stylesheet" href="/css/Card.css" asp-append-version="true" />
<link rel="stylesheet" href="/css/search.css" asp-append-version="true" />


<div class="items_title">
    <h1>Items</h1>
</div>

<div class="search_panel">
    <div class="search_form">
        <form asp-action="Items" class="row gy-3 gx-3 align-items-center">
            <label class="visually-hidden" for="typeId" >Types</label>
            <select class="form-select" id="typeId" name="typeId">
                <option selected>select..</option>
                @foreach(var type in Model.TypeItems){
                    <option selected="@(type.Id == Model.TypeId)" value="@type.Id">@type.TypeTitle.Replace('_',' ')</option>
                }
            </select>
            <div style="display:flex; justify-content: space-between;text-align:center;align-items:center; ">
                <div>
                    <label class="visually-hidden" for="sTerm">search by title</label>
                    <div style="max-height: 2rem; display: flex;text-align:center;" class="input-group">
                        <input type="text" class="form-control" value="@Model.STerm" name="sTerm" id="sTerm" placeholder="Search by title">
                    </div>
                </div>
                <div style="display: flex; justify-content:center; align-items:center; margin-bottom: 0.1rem ">
                    <button type="submit" style="margin-top: 0.5rem;" class="btn btn-primary search_button">search</button>
                </div>
                <div style="display: flex; justify-content:center; align-items:center; margin-bottom: 0.1rem ">
                    <a style="margin-top: 0.5rem;" class="btn btn-primary search_button" href="/Home/Items">reset</a>
                </div>
            </div>
        </form>
    </div>
</div>

<section class="cards">
    <div class="container_div container_cards">
        @foreach (var item in Model.Items)
        {
            <div class="card_item">
                <div class="card_top">
                    <div class="card_img">

                        @if (string.IsNullOrEmpty(item.Image))
                        {
                            <img src="~/img/no image.png" alt="@item.ItemTitle type: @item.TypeName"/>
                        }
                        else
                        {
                            <img src="@item.Image" alt="@item.ItemTitle type: @item.TypeName" />
                        }
                    </div>
                </div>
                <div class="card_bottom">
                    <div class="card_price">@item.Price</div>
                    <p class="card_title">@item.ItemTitle</p>
                    <div class="card_description">
                        @item.Description
                    </div>
                    <div class="button_div">
                        <button class="card_button">add to cart</button>
                    </div>
                </div>
            </div>
        }
    </div>
</section>